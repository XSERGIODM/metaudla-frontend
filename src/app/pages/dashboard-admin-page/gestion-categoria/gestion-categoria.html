
  <div class="glass-card p-8 animate-fade-in stagger-1">
    <div class="flex justify-between items-center mb-6">
      <h3 class="text-2xl font-futuristic font-bold text-primary flex items-center gap-2">
        <span>üè∑Ô∏è</span> Gesti√≥n de Categor√≠as
      </h3>
      <button (click)="abrirModal()" class="metaverse-button px-4 py-2 hover:scale-105">
        ‚ûï Nueva Categor√≠a
      </button>
    </div>

    <!-- Filtros de Categor√≠as -->
    <div class="flex flex-wrap gap-4 mb-6">
      <select class="glass-card px-4 py-2 text-sm">
        <option>Todos los estados</option>
        <option>Activas</option>
        <option>Inactivas</option>
      </select>
      <input type="text" placeholder="Buscar categor√≠a..." class="glass-card px-4 py-2 text-sm flex-1">
    </div>

    <!-- Tabla de Categor√≠as -->
    <div class="overflow-x-auto">
      <table class="w-full">
        <thead>
        <tr class="border-b border-[hsl(var(--glass-border))]">
          <th class="text-left py-3 px-2 font-futuristic text-primary">Categor√≠a</th>
          <th class="text-left py-3 px-2 font-futuristic text-primary">Descripci√≥n</th>
          <th class="text-left py-3 px-2 font-futuristic text-primary">Estado</th>
          <th class="text-left py-3 px-2 font-futuristic text-primary">Acciones</th>
        </tr>
        </thead>
        <tbody>
          @for (categoria of categorias(); track categoria.id){
            <tr
              class="border-b border-[hsl(var(--glass-border))]/50 hover:bg-[hsl(var(--primary)_/_0.05)] transition-colors">
              <td class="py-4 px-2">
                <div class="flex items-center gap-3">
                  <div
                    class="w-8 h-8 bg-gradient-to-br from-primary to-primary-light rounded-full flex items-center justify-center text-white font-bold text-sm">
                    {{categoria.nombre.charAt(0)}}
                  </div>
                  <div>
                    <div class="font-medium">{{categoria.nombre}}</div>
                    <div class="text-sm text-muted-foreground">{{categoria.islas.length}} islas</div>
                  </div>
                </div>
              </td>
              <td class="py-4 px-2 text-sm text-muted-foreground">{{categoria.descripcion}}</td>
              <td class="py-4 px-2">
                @if (categoria.estado === 'HABILITADO') {
                  <span class="px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-xs">Habilitado</span>
                } @else {
                  <span class="px-2 py-1 bg-red-500/20 text-red-400 rounded-full text-xs">Deshabilitado</span>
                }
              </td>
              <td class="py-4 px-2">
                <div class="flex gap-2">
                  <button (click)="abrirModal(categoria)" class="glass-card px-2 py-1 text-xs hover:bg-primary/10">‚úèÔ∏è</button>
                  @if (categoria.estado === 'HABILITADO'){
                    <button (click)="deshabilitarCategoria(categoria.id)" class="glass-card px-2 py-1 text-xs hover:bg-red-500/10 text-red-400">üóëÔ∏è</button>
                    }@else{
                  <button (click)="habilitarCategoria(categoria.id)" class="glass-card px-2 py-1 text-xs hover:bg-green-500/10 text-green-400">üóëÔ∏è</button>
                  }
                </div>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <!-- Paginaci√≥n -->
    <div class="flex justify-between items-center mt-6">
      <div class="text-sm text-muted-foreground">
        Mostrando {{infoPagina().number * infoPagina().size + 1}}
        - {{infoPagina().number * infoPagina().size + infoPagina().size}}
        de {{infoPagina().totalElements}} categor√≠as
      </div>
      <div class="flex gap-2">
        <button (click)="paginaAnterior()"
                [disabled]="infoPagina().number === 0"
                class="glass-card px-3 py-1 text-sm hover:bg-primary/10 disabled:opacity-50 disabled:cursor-not-allowed">
          ‚Üê Anterior
        </button>
        @for(pagina of paginas(); track pagina){
          <button (click)="irAPagina(pagina)"
                  [class.bg-primary]="pagina === infoPagina().number"
                  class="glass-card px-3 py-1 text-sm hover:bg-primary/10">
            {{pagina + 1}}
          </button>
        }
        <button (click)="paginaSiguiente()"
                [disabled]="infoPagina().number >= infoPagina().totalPages - 1"
                class="glass-card px-3 py-1 text-sm hover:bg-primary/10 disabled:opacity-50 disabled:cursor-not-allowed">
          Siguiente ‚Üí
        </button>
      </div>
    </div>

    @if (isModalOpen()) {
      <app-gestion-categoria-modal
        [categoria]="categoriaSeleccionada()"
        (cerrar)="cerrarModal()"
        (categoriaGuardada)="onCategoriaGuardada()">
      </app-gestion-categoria-modal>
    }
  </div>

