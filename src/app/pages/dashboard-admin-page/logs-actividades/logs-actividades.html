
  <div class="glass-card p-8 animate-fade-in stagger-1">
    <h3 class="text-2xl font-futuristic font-bold text-primary mb-6 flex items-center gap-2">
      <span>üìã</span> Actividad Reciente del Sistema
    </h3>

    @if (loading()) {
      <div class="flex justify-center items-center py-8">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
        <span class="ml-2 text-muted-foreground">Cargando logs...</span>
      </div>
    } @else if (error()) {
      <div class="text-center py-8">
        <div class="text-red-400 mb-2">‚ö†Ô∏è {{ error() }}</div>
        <button
          class="metaverse-button px-4 py-2 text-sm"
          (click)="loadAuditorias()">
          Reintentar
        </button>
      </div>
    } @else {
      <div class="space-y-4">
        @for (auditoria of auditorias(); track auditoria.id) {
          <div class="flex items-start gap-4 p-4 glass-card rounded-lg">
            <div class="text-2xl">{{ getIconForMethod(auditoria.metodoHttp) }}</div>
            <div class="flex-1">
              <div class="font-medium">{{ auditoria.endpoint }}</div>
              <div class="text-sm text-muted-foreground">
                {{ auditoria.usuarioNombre }} - {{ auditoria.metodoHttp }} {{ auditoria.endpoint }}
                @if (auditoria.mensajeError) {
                  <span class="text-red-400">({{ auditoria.mensajeError }})</span>
                }
              </div>
              <div class="text-xs text-muted-foreground mt-1">{{ formatTime(auditoria.timestamp) }}</div>
            </div>
            <span [class]="getBadgeClass(auditoria.exito)">
              {{ getBadgeText(auditoria.exito) }}
            </span>
          </div>
        } @empty {
          <div class="text-center py-8 text-muted-foreground">
            No hay registros de auditor√≠a disponibles
          </div>
        }
      </div>

      <div class="text-center mt-6">
        <button class="metaverse-button px-6 py-3 hover:scale-105" (click)="navigateToAllLogs()">
          Ver Todos los Logs ‚Üí
        </button>
      </div>
    }
  </div>

